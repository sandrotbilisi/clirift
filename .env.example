# ─────────────────────────────────────────────────────────────────────────────
# CLIRift Node Configuration
# Copy this file to .env and fill in the values.
# Never commit .env to version control.
# ─────────────────────────────────────────────────────────────────────────────

# Node identity — generate a UUID once per node: node -e "console.log(require('crypto').randomUUID())"
CLIRFT_NODE_ID=00000000-0000-0000-0000-000000000001

# Network — this node's public WSS address (how OTHER nodes reach THIS node)
CLIRFT_LISTEN_PORT=8443
CLIRFT_LISTEN_HOST=0.0.0.0
CLIRFT_PUBLIC_URL=wss://node1.example.com:8443

# Peers — comma-separated WSS URLs of other nodes (exclude self)
# Optionally append ?nodeId=<uuid>&fingerprint=<XX:XX:...> for pinning
CLIRFT_PEERS=wss://node2.example.com:8443,wss://node3.example.com:8443

# Data storage path
CLIRFT_DATA_DIR=/var/lib/clirft

# Key share encryption backend: "kms" (production) or "local" (dev/test)
CLIRFT_STORAGE_BACKEND=kms

# AWS KMS — required when CLIRFT_STORAGE_BACKEND=kms
CLIRFT_KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/mrk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# AWS_REGION is read from environment automatically by the SDK

# Local passphrase — required when CLIRFT_STORAGE_BACKEND=local (must be ≥32 chars)
# CLIRFT_LOCAL_PASSPHRASE=change-this-to-a-very-long-random-passphrase-min-32-chars

# Ethereum
CLIRFT_CHAIN_ID=1
CLIRFT_ETH_RPC_URL=https://mainnet.infura.io/v3/YOUR_PROJECT_ID

# Threshold configuration (2-of-3 default)
CLIRFT_THRESHOLD=2
CLIRFT_TOTAL_PARTIES=3

# Ceremony timeouts
CLIRFT_DKG_TIMEOUT_MS=300000
CLIRFT_SIGN_TIMEOUT_MS=120000

# Logging
NODE_ENV=production
LOG_LEVEL=info
